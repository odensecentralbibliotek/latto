//
// Handles media queries for all devices.
//

// Note: The “only” keyword after @media is optional and only there so that
// older browsers ignore the media query if they don’t support it.
// http://mobile.smashingmagazine.com/2012/10/24/beyond-common-media-query-breakpoints/

@import '_latto.mixins.scss';
@import '_latto.variables.scss';
@import '_latto.grid.scss';


// -----------------------------------------------------------------------------
// Variables
// -----------------------------------------------------------------------------

$breakpoint-small:    480px;
$breakpoint-medium:   768px;


$grid-25: $grid-column-count * .25;
$grid-33: $grid-column-count * .3333333333;
$grid-50: $grid-column-count * .5;
$grid-66: $grid-column-count * .6666666666;
$grid-75: $grid-column-count * .75;


// -----------------------------------------------------------------------------
// The respond-to mixin
// -----------------------------------------------------------------------------

@mixin respond-to($media) {

	// Sizes
	@if $media == small {
		@media only screen and (max-width: $breakpoint-small) { @content; }
	}

	@else if $media == medium {
		@media only screen and (min-width: $breakpoint-small + 1) and (max-width: $breakpoint-medium) { @content; }
	}

	@else if $media == large {
		@media only screen and (min-width: $breakpoint-medium + 1) { @content; }
	}

}


// -----------------------------------------------------------------------------
// Size mixins
// -----------------------------------------------------------------------------

@mixin small {
  @include respond-to(small) { @content; }
}

@mixin medium {
  @include respond-to(medium) { @content; }
}

@mixin large {
  @include respond-to(large) { @content; }
}


// -----------------------------------------------------------------------------
// Styling for testing
// -----------------------------------------------------------------------------

.grid-wrapper {  
  @include small() {
    border: 3px dashed red;
  }

  @include medium() {
    border: 3px dashed green;
  }

  @include large() {
    border: 3px dashed blue;
  }  
}


.content-inner {
  background: GreenYellow;
  border: 3px solid Green;
  margin: 10px;
  padding: 10px;
}


// -----------------------------------------------------------------------------
// Default grid styling
// -----------------------------------------------------------------------------

.primary-content,
.secondary-content,
.tertiary-content,
.attachment-first,
.attachment-second,
.attachment-third,
.attachment-fourth {
  display: block;
  padding-left: $default-spacing / 2;
  padding-right: $default-spacing / 2;
}


// -----------------------------------------------------------------------------
// Displays
// -----------------------------------------------------------------------------
//
//
// Display template one (default layout template)
//
// Small:   100-100-100 (stacked)
//          -------------------------------
//          |           Primary           |
//          -------------------------------
//          -------------------------------
//          |           Secondary         |
//          -------------------------------
//          -------------------------------
//          |           Tertiary          |
//          -------------------------------
//
// Medium:  100-50-50 (primary-content 100%, secondary 50%, tertiary 50%)
//          -------------------------------
//          |           Primary           |
//          -------------------------------
//          -------------------------------
//          |  Secondary   |   Tertiary   |
//          -------------------------------
//
//
// Large:   50-25-25 (primary 50%, secondary 25%, tertiary 25%)
//          -------------------------------
//          |    Primary    | Ter. | Sec. |
//          -------------------------------


%display-template-default {

  .primary-content {
    @include small() {
    }

    @include medium() {
      @include zen-grid-item($grid-column-count, 1);
    }

    @include large() {
      @include zen-grid-item($grid-50, 1);
    }
  }

  .secondary-content {
    @include small() {
    }

    @include medium() {
      @include zen-clear(both);
      @include zen-grid-item($grid-50, 1);
    }

    @include large() {
      @include zen-grid-item($grid-25, ($grid-50) + 1);
    }
  }

  .tertiary-content {
    @include small() {
    }

    @include medium() {
      @include zen-grid-item($grid-50, 1, right);
    }

    @include large() {
      @include zen-grid-item($grid-25, 1, right);
    }
  }

}


// Display template two
//
// Small:   100-100-100 (stacked)
//          -------------------------------
//          |           Primary           |
//          -------------------------------
//          -------------------------------
//          |           Secondary         |
//          -------------------------------
//          -------------------------------
//          |           Tertiary          |
//          -------------------------------
//
// Medium:  25-75-100 (Secondary 25%, primary 75%, tertiary 100%)
//          -------------------------------
//          |       Primary        | Sec. |
//          -------------------------------
//          -------------------------------
//          |           Tertiary          |
//          -------------------------------
//
// Large:   50-25-25 (primary 50%, secondary 25%, tertiary 25%)
//          -------------------------------
//          |    Primary    | Ter. | Sec. |
//          -------------------------------


%display-template-two {
  
  .primary-content {
    @include medium() {
      @include zen-grid-item($grid-66, 1);
    }    
    
    @include large() {
      @include zen-grid-item($grid-50, $grid-25 + 1);
    }
  }

  .secondary-content {
    @include medium() {
      @include zen-grid-item($grid-33, 1, right);
    }
    
    @include large() {
      @include zen-grid-item($grid-25, 1);
    }
  }
  
  .tertiary-content {
    @include medium() {
      @include zen-clear(both);      
      @include zen-grid-item($grid-column-count, 1);
    }
    
    @include large() {
      @include zen-grid-item($grid-25, 1, right);
    }    
  } 
}


// Display template three
//
// Small:   100-100-100 (stacked)
//          -------------------------------
//          |           Primary           |
//          -------------------------------
//          -------------------------------
//          |           Secondary         |
//          -------------------------------
//          -------------------------------
//          |           Tertiary          |
//          -------------------------------
//
// Medium:  25-75-100 (Secondary 25%, primary 75%, tertiary 100%)
//          -------------------------------
//          | Sec. |       Primary        |
//          -------------------------------
//          -------------------------------
//          |           Tertiary          |
//          -------------------------------
//
// Large:   25-75-100 (secondary 25%, primary 75%, tertiary 100%)
//          -------------------------------
//          | Sec. |       Primary        |
//          -------------------------------
//          -------------------------------
//          |           Tertiary          |
//          -------------------------------

%display-template-three {
  
  @extend %display-template-two;

  .primary-content {
    
    @include large() {
      @include zen-grid-item($grid-75, $grid-25 + 1);
    }
  }

  .secondary-content {    
    @include large() {
      @include zen-grid-item($grid-25, 1);
    }
  }
  
  .tertiary-content {
    @include large() {
      @include zen-clear(both);      
      @include zen-grid-item($grid-column-count, 1);
    }
  } 
}


//
// -----------------------------------------------------------------------------
// Attachments
// -----------------------------------------------------------------------------


// Make sure the attachments wrapper clears
//
.attachments-wrapper {
  @include zen-clear(both);
}


// Attachments display default
//
// Small:   100-100-100-100 (stacked)
//          -------------------------------
//          |         Attachment 1        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 2        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 3        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 4        |
//          -------------------------------
//
// Medium:  50-50-50-50 (side-by-side)
//          -------------------------------
//          | Attachment 1 | Attachment 2 |
//          -------------------------------
//          -------------------------------
//          | Attachment 3 | Attachment 4 |
//          -------------------------------
//
//
// Large:   50-50-50-50 (side-by-side)
//          -------------------------------
//          | Attachment 1 | Attachment 2 |
//          -------------------------------
//          -------------------------------
//          | Attachment 3 | Attachment 4 |
//          -------------------------------

%attachments-display-default {
  .attachment-first {
    @include medium() {
      @include zen-grid-item($grid-50, 1);
    }

    @include large() {
      @include zen-grid-item($grid-50, 1);
    }

  }

  .attachment-second {
    @include medium() {
      @include zen-grid-item($grid-50, 1, right);
    }

    @include large() {
      @include zen-grid-item($grid-50, 1, right);
    }

  }

  .attachment-third {
    @include medium() {
      @include zen-clear(both);
      @include zen-grid-item($grid-50, 1);
    }

    @include large() {
      @include zen-grid-item($grid-50, 1);
    }

  }

  .attachment-fourth {
    @include medium() {
      @include zen-grid-item($grid-50, 1, right);
    }

    @include large() {
      @include zen-grid-item($grid-50, 1, right);
    }

  }  
}


// Attachments display two
//
// Small:   100-100-100-100 (stacked)
//          -------------------------------
//          |         Attachment 1        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 2        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 3        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 4        |
//          -------------------------------
//
// Medium:  50-50-50-50 (side-by-side)
//          -------------------------------
//          | Attachment 1 | Attachment 2 |
//          -------------------------------
//          -------------------------------
//          | Attachment 3 | Attachment 4 |
//          -------------------------------
//
//
// Large:   25-25-25-25
//          -------------------------------
//          |   1   |  2   |  3   |   4   |
//          -------------------------------

%attachments-display-two {
  @extend %attachments-display-default;
  
  .attachment-first {
    @include large() {
      @include zen-grid-item($grid-25, 1);
    }
  }

  .attachment-second {
    @include large() {
      @include zen-grid-item($grid-25, $grid-25 + 1);
    }
  }

  .attachment-third {
    @include large() {
      @include zen-grid-item($grid-25, $grid-25 + 1, right);
    }
  }

  .attachment-fourth {
    @include large() {
      @include zen-grid-item($grid-25, 1, right);
    }
  }  
}


// Attachments display two
//
// Small:   100-100-100-100 (stacked)
//          -------------------------------
//          |         Attachment 1        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 2        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 3        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 4        |
//          -------------------------------
//
// Medium:  50-50-100-100
//          -------------------------------
//          | Attachment 1 | Attachment 2 |
//          -------------------------------
//          -------------------------------
//          |         Attachment 3        |
//          -------------------------------
//          -------------------------------
//          |         Attachment 4        |
//          -------------------------------
//
//
// Large:   33-33-33-100
//          -------------------------------
//          |    1    |    2    |    3    |
//          -------------------------------
//          -------------------------------
//          |         Attachment 4        |
//          -------------------------------

%attachments-display-three {
  
  .attachment-first {     
    @include medium() {
      @include zen-grid-item($grid-50, 1);
    }
    
    @include large() {
      @include zen-grid-item($grid-33, 1);
    }
  }

  .attachment-second {    
    @include medium() {
      @include zen-grid-item($grid-50, 1, right);
    }
    
    @include large() {
      @include zen-grid-item($grid-33, $grid-33 + 1);
    }
  }

  .attachment-third {
    @include medium() {
      @include zen-clear(both);
      @include zen-grid-item($grid-column-count, 1);
    }    
    
    @include large() {
      @include zen-grid-item($grid-33, 1, right);
    }
  }

  .attachment-fourth {    
    @include medium() {
      @include zen-clear(both);
      @include zen-grid-item($grid-column-count, 1);
    }
    
    @include large() {
      @include zen-clear(both);
      @include zen-grid-item($grid-column-count, 1);
    }
  }  
}


// Layout templates
// The templates extends displays and attachments

.layout-template-default {
  @extend %display-template-default;
  @extend %attachments-display-two;
}

.layout-template-two {
  @extend %display-template-two;
  @extend %attachments-display-two;
}

.layout-template-three {
  @extend %display-template-three;
  @extend %attachments-display-three;
}